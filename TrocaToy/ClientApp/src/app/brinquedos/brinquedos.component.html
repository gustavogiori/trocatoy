<section class="content-header">
  <h1>
    Todos Brinquedos
    <a (click)="toggleSearch()" class="search-link pull-right">
      <span *ngIf="iptSearch.value"><small>"{{ iptSearch.value }}"</small></span>
      <i class="fa fa-search"></i>
    </a>
  </h1>

  <div class="col">
    <div class="col-xs-9 search-bar" [@toggleSearch]="searchBarState">
      <form [formGroup]="searchForm">
        <div class="form-group">
          <input type="text" #iptSearch formControlName="searchControl" class="form-control"
            placeholder="O que você está procurando?" />
          <button class="btn btn-primary form-control">Filtrar</button>
        </div>
      </form>
    </div>
  </div>
</section>

<section class="content">
  <div class="row">
    <div class="col-lg-9 px-0 pr-lg-2 mb-2 mb-lg-0">
      <div class="card border-light bg-white card proviewcard shadow-sm">
        <ng-container *ngFor="let item of nomes let i = index">
          <div class="card-body">
            <div class="col-lg-12 p-3 cardlist">
              <div class="col-lg-12">
                <div class="row">
                  <div class="col-lg-8">
                    <div class="row">
                      <div class="col-4 col-lg-3 col-xl-2">
                        <div class="row">
                          <a (click)="clickDetalhe(item.id)" class="w-100">
                            <img
                              src="{{item.urlPrincipal}}"
                              class="mx-auto d-block mb-2 addcartimg" />
                          </a>
                        </div>
                      </div>
                      <div class="col-8 col-lg-9 col-xl-10">
                        <div class="d-block text-truncate mb-1">
                          <strong>
                            <a (click)="clickDetalhe()" class="cartproname">{{item.nomeBrinquedo}}</a></strong>
                        </div>
                        <div class="seller d-block">
                          <span>Usuário: </span>
                          <span>{{item.nomeUsuario}}</span>
                        </div>
                        <div class="cartviewprice d-block">
                          <input disabled [checked]="item.tipoDisponibilidade =='1' || item.tipoDisponibilidade=='3'"
                            type="checkbox" />
                          <span class="amt">Dação</span>
                          <input disabled [checked]="item.tipoDisponibilidade =='2' || item.tipoDisponibilidade=='3'"
                            type="checkbox" />
                          <span class="amt">Troca</span>
                        </div>
                        <div class="cartviewprice d-block">
                          <input disabled [checked]="item.brinquedoNovo"
                            type="checkbox" />
                          <span class="amt">Novo</span>
                        </div>

                        <div class="col-lg-3 col-5"  >
                          <a  (click)="clickDetalhe(item.id)" class="addcardrmv">Detalhes</a>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card-footer border-light cart-panel-foo-fix">
            <a href="" class="btn btn-add-con">Fazer Proposta</a>
          </div>
        </ng-container>
        <div class="text-right">
          <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
            <li [ngClass]="{disabled:pager.currentPage === 1}">
            <a (click)="setPage(1)"><<</a>
            </li>
            <li  [ngClass]="{disabled:pager.currentPage === 1}" >
              <a (click)="setPage(pager.currentPage - 1)"><</a>
            </li>
            <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
              <a (click)="setPage(page)">{{page}}</a>
            </li>
            <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
              <a (click)="setPage(pager.currentPage + 1)">></a>
            </li>
            <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
              <a (click)="setPage(pager.totalPages)">>></a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="nomes?.length === 0" class="col-xs-12">
    <p class="lead text-center">
      Não foram encontrados itens para a sua busca.
    </p>
  </div>
</section>
